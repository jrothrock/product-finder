<!doctype html>
<link href="https://unpkg.com/tabulator-tables@4.9.3/dist/css/tabulator.min.css" rel="stylesheet">
<script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.min.js"></script>
<title>Item Finder</title>
<div id="example-table"></div>


<script type="text/javascript">
  records = [
    {% for record in records %}
      {item_title: "{{record.Item.title}}", amazon_category: "{{record.Category.amazon_category}}", category: "{{record.Category.title}}", price: {{record.Item.price}}, shipping_price: {{record.Item.shipping_price}}, shipping_price_10_units: {{record.Item.shipping_price_10_units}}, dimensions: "w: {{record.Item.width}}, l: {{record.Item.length}}, h: {{record.Item.height}}", weight: {{record.Item.weight}}, amazon_fee: {{record.Item.amazon_fee}}}, 
    {% endfor %}
  ];

  var table = new Tabulator("#example-table", {
    // height:205, // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
    data:records, //assign data to table
    layout:"fitColumns", //fit columns to width of table (optional)
    columns:[ //Define Table Columns
      {title:"Item", field:"item_title", width:200},
      {title:"Category", field:"category", hozAlign:"left"},
      {title:"Amazon Category", field:"amazon_category", hozAlign:"left"},
      {title:"Price", field:"price", hozAlign:"left"},
      {title:"Shipping Price", field:"shipping_price", hozAlign:"left"},
      {title:"Shipping Price 10 units", field:"shipping_price_10_units", hozAlign:"left"},
      {title:"Dimensions", field:"dimensions", hozAlign:"left"},
      {title:"Weight", field:"weight", hozAlign:"left"},
      {title:"Amazon Fee", field:"amazon_fee", hozAlign:"left"}
    ],
    rowClick:function(e, row){ //trigger an alert message when the row is clicked
      alert("Row " + row.getData().id + " Clicked!!!!");
    },
  });
</script>